<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coming Soon</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="overlay">
        <h1>COMING SOON :)</h1>
        <p>
            Imagine a transformative movement that unites your mind, body, and soul – and rewards you for it!
            Our Holistic Service Platform is pioneering the Symbiotic Exchange Model, where wellness is the true currency. 
            No money involved – just the power of giving and receiving. Earn points by offering your skills or embracing 
            self-care challenges, then redeem them for incredible services like yoga, coaching, and healing treatments.
            Practitioners make the most of their time, users thrive, and together we create a flourishing ecosystem 
            built on fairness, sustainability, and mutual support.
            Join the movement and help redefine wellness – in a way that’s innovative, fair, and truly empowering.
        </p>
        
        <form id="signup-form">
            <input type="text" id="name" name="name" placeholder="Name" required>
            <input type="email" id="email" name="email" placeholder="Email" required>
            <label>
                <input type="checkbox" id="consent" required>
                I accept that the above information will be used to subscribe me to this list.
            </label>
            <button type="submit">Submit</button>
        </form>
        
        <p id="response-message"></p>
    </div>

    <script>
        document.getElementById("signup-form").addEventListener("submit", async function(event) {
            event.preventDefault(); // Verhindert das Neuladen der Seite

            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const consent = document.getElementById("consent").checked;
            const responseMessage = document.getElementById("response-message");

            console.log("DEBUG: Name:", name, "Email:", email, "Consent:", consent);

            if (!consent) {
                responseMessage.innerText = "You must accept the terms to proceed.";
                responseMessage.style.color = "red";
                console.log("DEBUG: Consent not given.");
                return;
            }

            if (!name || !email) {
                responseMessage.innerText = "Please fill in all fields.";
                responseMessage.style.color = "red";
                console.log("DEBUG: Missing name or email.");
                return;
            }

            console.log("DEBUG: Sende Daten an Google Apps Script:", { name: name, email: email });

            try {
                const response = await fetch("https://script.google.com/macros/s/AKfycbw5aB7_o270KLDa0sHLe-Z6Dl-J0o2fzd_Hur1dQGPl-bWs8r8yY1iUOBH7ChmM0OkGdA/exec", {  
                    method: "POST",
                    mode: "cors", // ✅ Stellt sicher, dass CORS genutzt wird
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ name: name, email: email })
                });

                const result = await response.text();
                console.log("DEBUG: Server Response:", result);

                try {
                    const jsonResult = JSON.parse(result);
                    if (jsonResult.status === "success") {
                        responseMessage.innerText = "Thank you for signing up!";
                        responseMessage.style.color = "green";
                        document.getElementById("signup-form").reset();
                    } else {
                        responseMessage.innerText = "Oops! Something went wrong: " + jsonResult.message;
                        responseMessage.style.color = "red";
                    }
                } catch (jsonError) {
                    responseMessage.innerText = "Error parsing server response.";
                    responseMessage.style.color = "red";
                    console.error("DEBUG: JSON Parse Error:", jsonError, "Server Response:", result);
                }
            } catch (error) {
                responseMessage.innerText = "An error occurred. Please try again later.";
                responseMessage.style.color = "red";
                console.error("DEBUG: Fetch Error:", error);
            }
        });
    </script>
</body>
</html>
